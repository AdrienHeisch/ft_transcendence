import { drizzle } from "npm:drizzle-orm@^0.45.1/node-postgres";
import pg from "npm:pg@^8.13.1";
import * as table from "./src/lib/server/db/schema.ts";

const { Pool } = pg;

const pool = new Pool({
	connectionString: Deno.env.get("DATABASE_URL") || 
		"postgres://root:mysecretpassword@localhost:5432/local",
});

const db = drizzle(pool);

const pets = [
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Marguerite",
		species: "Vache",
		breed: "Holstein",
		age: "5 ans",
		description: "Vache douce et calme, adore les caresses. Parfaite pour les familles.",
		photo: "https://media.4-paws.org/4/9/8/9/49896113ec1edb7553e53df93fec214bfba35e4d/VIER%20PFOTEN_2015-04-27_010-3369x2246-3246x2246-1920x1329.jpg",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Pompom",
		species: "Lapin",
		breed: "B√©lier",
		age: "2 ans",
		description: "Petit lapin affectueux avec de grandes oreilles tombantes.",
		photo: "https://images.unsplash.com/photo-1585110396000-c9ffd4e4b308?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "R√©glisse",
		species: "Ch√®vre",
		breed: "Naine",
		age: "3 ans",
		description: "Ch√®vre joueuse et curieuse, s'entend bien avec les enfants.",
		photo: "https://images.unsplash.com/photo-1553949285-f8a95d569d3b?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Caramel",
		species: "Poney",
		breed: "Shetland",
		age: "8 ans",
		description: "Poney doux et patient, id√©al pour l'√©quitation des enfants.",
		photo: "https://images.unsplash.com/photo-1553284965-83fd3e82fa5a?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Coquette",
		species: "Poule",
		breed: "Sussex",
		age: "1 an",
		description: "Poule pondeuse tr√®s productive, calme et docile.",
		photo: "https://images.unsplash.com/photo-1548550023-2bdb3c5beed7?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Hercule",
		species: "√Çne",
		breed: "√Çne commun",
		age: "12 ans",
		description: "√Çne gentil et travailleur, excellent gardien du troupeau.",
		photo: "https://binette-et-jardin.ouest-france.fr/images/dossiers/2017-12/ane-1-120401.jpg",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Flocon",
		species: "Mouton",
		breed: "Ouessant",
		age: "4 ans",
		description: "Petit mouton rustique avec une belle laine blanche.",
		photo: "https://images.unsplash.com/photo-1584276927340-8c4e238b5b71?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Roussette",
		species: "Vache",
		breed: "Jersiaise",
		age: "6 ans",
		description: "Vache laiti√®re de race jersiaise, lait tr√®s riche en mati√®res grasses.",
		photo: "https://media.4-paws.org/4/9/8/9/49896113ec1edb7553e53df93fec214bfba35e4d/VIER%20PFOTEN_2015-04-27_010-3369x2246-3246x2246-1920x1329.jpg",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Cannelle",
		species: "Ch√®vre",
		breed: "Alpine",
		age: "2 ans",
		description: "Ch√®vre alpine √©nergique, excellente productrice de lait.",
		photo: "https://lemagdesanimaux.ouest-france.fr/images/dossiers/2021-05/mini/elever-chevre-063237-650-400.jpg",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Plume",
		species: "Oie",
		breed: "Oie de Toulouse",
		age: "3 ans",
		description: "Grande oie imposante mais tr√®s gentille avec ses familiers.",
		photo: "https://www.ecomusee-rennes-metropole.fr/app/uploads/2020/10/oie-normande-scaled.jpg",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Noisette",
		species: "Lapin",
		breed: "G√©ant des Flandres",
		age: "3 ans",
		description: "Grand lapin au caract√®re doux, adore √™tre bross√©.",
		photo: "https://images.unsplash.com/photo-1535241749838-299277b6305f?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Belle",
		species: "Poney",
		breed: "Welsh",
		age: "10 ans",
		description: "Ponette exp√©riment√©e, parfaite pour l'apprentissage de l'√©quitation.",
		photo: "https://images.unsplash.com/photo-1551884831-bbf3cdc6469e?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Cocotte",
		species: "Poule",
		breed: "Rousse",
		age: "2 ans",
		description: "Poule rousse pondeuse, tr√®s sociable avec les autres animaux.",
		photo: "https://images.unsplash.com/photo-1612170153139-6f881ff067e0?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Cacahu√®te",
		species: "Cochon",
		breed: "Vietnamien",
		age: "4 ans",
		description: "Petit cochon vietnamien affectueux et tr√®s propre.",
		photo: "https://images.unsplash.com/photo-1516467508483-a7212febe31a?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Diabolo",
		species: "Ch√®vre",
		breed: "Angora",
		age: "5 ans",
		description: "Ch√®vre angora avec une magnifique toison soyeuse.",
		photo: "https://lemagdesanimaux.ouest-france.fr/images/dossiers/2021-05/mini/elever-chevre-063237-650-400.jpg",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "P√©pite",
		species: "Poule",
		breed: "Marans",
		age: "1 an",
		description: "Poule marans aux ≈ìufs extra-roux, caract√®re vif et curieux.",
		photo: "https://images.unsplash.com/photo-1563281577-a7be47e20db9?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Tonnerre",
		species: "Cheval",
		breed: "Percheron",
		age: "9 ans",
		description: "Cheval de trait puissant mais au temp√©rament calme.",
		photo: "https://images.unsplash.com/photo-1553284965-83fd3e82fa5a?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Gribouille",
		species: "Lapin",
		breed: "Nain Angora",
		age: "1 an",
		description: "Petit lapin angora avec un pelage exceptionnellement doux.",
		photo: "https://images.unsplash.com/photo-1535241749838-299277b6305f?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Neige",
		species: "Mouton",
		breed: "M√©rinos",
		age: "3 ans",
		description: "Mouton m√©rinos avec une laine de qualit√© exceptionnelle.",
		photo: "https://images.unsplash.com/photo-1568476992901-cd0010eb2a9f?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Praline",
		species: "Vache",
		breed: "Limousine",
		age: "7 ans",
		description: "Vache limousine rustique et robuste, excellente m√®re.",
		photo: "https://media.4-paws.org/4/9/8/9/49896113ec1edb7553e53df93fec214bfba35e4d/VIER%20PFOTEN_2015-04-27_010-3369x2246-3246x2246-1920x1329.jpg",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Hector",
		species: "Canard",
		breed: "Coureur Indien",
		age: "2 ans",
		description: "Canard coureur tr√®s actif, excellent pour contr√¥ler les nuisibles.",
		photo: "https://images.unsplash.com/photo-1551879400-0c0e84e90f0e?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Perle",
		species: "Oie",
		breed: "Blanche",
		age: "4 ans",
		description: "Oie blanche √©l√©gante, bonne gardienne de la ferme.",
		photo: "https://www.ecomusee-rennes-metropole.fr/app/uploads/2020/10/oie-normande-scaled.jpg",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Biscuit",
		species: "Cochon",
		breed: "Pot-Bellied",
		age: "3 ans",
		description: "Cochon miniature intelligent et affectueux.",
		photo: "https://images.unsplash.com/photo-1516467508483-a7212febe31a?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Capucine",
		species: "Poule",
		breed: "Soie",
		age: "2 ans",
		description: "Poule d'ornement au plumage duveteux unique.",
		photo: "https://images.unsplash.com/photo-1548550023-2bdb3c5beed7?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "√âclair",
		species: "Poney",
		breed: "Connemara",
		age: "6 ans",
		description: "Poney sportif et endurant, parfait pour le saut d'obstacles.",
		photo: "https://images.unsplash.com/photo-1551884831-bbf3cdc6469e?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Miel",
		species: "Ch√®vre",
		breed: "Poitevine",
		age: "4 ans",
		description: "Ch√®vre au caract√®re doux, excellente laiti√®re.",
		photo: "https://lemagdesanimaux.ouest-france.fr/images/dossiers/2021-05/mini/elever-chevre-063237-650-400.jpg",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Rouquin",
		species: "√Çne",
		breed: "Miniature",
		age: "5 ans",
		description: "Petit √¢ne roux tr√®s attachant et joueur.",
		photo: "https://binette-et-jardin.ouest-france.fr/images/dossiers/2017-12/ane-1-120401.jpg",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Bambou",
		species: "Lapin",
		breed: "Rex",
		age: "2 ans",
		description: "Lapin rex au pelage velout√© exceptionnel.",
		photo: "https://images.unsplash.com/photo-1585110396000-c9ffd4e4b308?w=800",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Violette",
		species: "Vache",
		breed: "Aubrac",
		age: "5 ans",
		description: "Vache aubrac rustique, tr√®s adapt√©e aux terrains difficiles.",
		photo: "https://media.4-paws.org/4/9/8/9/49896113ec1edb7553e53df93fec214bfba35e4d/VIER%20PFOTEN_2015-04-27_010-3369x2246-3246x2246-1920x1329.jpg",
	},
	{
		id: crypto.randomUUID(),
		ownerId: crypto.randomUUID(),
		name: "Grisou",
		species: "Mouton",
		breed: "Suffolk",
		age: "4 ans",
		description: "Mouton suffolk robuste, bonne production de viande.",
		photo: "https://images.unsplash.com/photo-1584276927340-8c4e238b5b71?w=800",
	},
];

console.log("üåæ Peuplement de la base de donn√©es avec des animaux de la ferme...\n");

for (const pet of pets) {
	await db.insert(table.pet).values(pet);
	console.log(`‚úÖ Ajout√© : ${pet.name} (${pet.species} - ${pet.breed})`);
}

console.log(`\nüéâ ${pets.length} animaux ajout√©s avec succ√®s !`);
await pool.end();
Deno.exit(0);
